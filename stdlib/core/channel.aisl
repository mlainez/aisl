(module channel
  
  (fn new capacity int -> channel
    (ret (channel_new capacity)))
  
  (fn send ch channel value int -> int
    (channel_send ch value)
    (ret 0))
  
  (fn recv ch channel -> int
    (ret (channel_recv ch)))
  
  (meta-note "Thread-safe channel for inter-thread communication"))
