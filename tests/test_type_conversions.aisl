(module test
  (fn i64_to_f64 x int -> float
    (ret (cast_i64_f64 x)))
  
  (test-spec i64_to_f64
    (case "convert 42 to float"
      (input 42)
      (expect 42.0))
    (case "convert 0 to float"
      (input 0)
      (expect 0.0))
    (case "convert negative to float"
      (input -10)
      (expect -10.0)))
  
  (fn f64_to_i64 x float -> int
    (ret (cast_f64_i64 x)))
  
  (test-spec f64_to_i64
    (case "truncate 99.99 to int"
      (input 99.99)
      (expect 99))
    (case "truncate 1.1 to int"
      (input 1.1)
      (expect 1))
    (case "truncate 3.14 to int"
      (input 3.14)
      (expect 3))
    (case "truncate 9.99 to int"
      (input 9.99)
      (expect 9)))
  
  (meta-note "Tests type conversion between int and float types (i64/f64)"))
