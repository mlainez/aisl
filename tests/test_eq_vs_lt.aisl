(module test_eq_in_if
  (fn test_with_lt x int -> string
    (set check bool (call lt x 50))
    (if check
      (ret "less than 50"))
    (ret "50 or more"))
  
  (fn test_with_eq x int -> string
    (set check bool (call eq x 100))
    (if check
      (ret "equals 100"))
    (ret "not 100"))
  
  (fn main -> int
    (call print "Testing with lt:")
    (set r1 string (call test_with_lt 10))
    (call print r1)
    (set r2 string (call test_with_lt 60))
    (call print r2)
    
    (call print "Testing with eq:")
    (set r3 string (call test_with_eq 100))
    (call print r3)
    (set r4 string (call test_with_eq 99))
    (call print r4)
    (ret 0)))
