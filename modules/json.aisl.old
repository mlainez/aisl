(mod json
  (fn build_object_one key string value string -> json
    (set obj json (call json_new_object))
    (set obj json (call json_set obj key value))
    (ret obj))
  
  (fn build_array_one value string -> json
    (set arr json (call json_new_array))
    (set arr json (call json_push arr value))
    (ret arr))
  
  (fn to_string data json -> string
    (ret (call json_stringify data)))
  
  (fn from_string text string -> json
    (ret (call json_parse text)))
  
  (fn get_type data json -> string
    (ret (call json_type data)))
  
  (fn is_object data json -> bool
    (set type_str string (call json_type data))
    (ret (call string_eq type_str "object")))
  
  (fn is_array data json -> bool
    (set type_str string (call json_type data))
    (ret (call string_eq type_str "array")))
  
  (fn get_length data json -> int
    (ret (call json_length data))))